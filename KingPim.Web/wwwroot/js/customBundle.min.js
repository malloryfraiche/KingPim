$(document).ready(function(){attrGroupHelper.getTheAttributeGroupTableData();$("#addNewSubcatForm").submit(function(n){var t,i,r;n.preventDefault();t=new FormData;i=$('#addNewSubcatForm input[name="Name"]').val();t.append("name",i);r=$("#addNewSubcatForm select").val();t.append("categoryid",r);$('#addNewSubcatForm table[id="addedAttrGroupsTableId"] tr').each(function(){t.append("attributegroupid",$(this).data("attributegroupid"))});$.ajax({url:"/Subcategory/AddSubcategory",type:"POST",data:t,dataType:"json",processData:!1,contentType:!1,success:function(n){console.log(n);window.location.href=n},error:function(n){console.log(n)}})})});$(document).ready(function(){$('select[id="typeSelectValue"]').change(function(){var n="";$('select[id="typeSelectValue"] option:selected').each(function(){n+=$(this).val()});n==="predefined list"?$("#predefinedListOptionInputDiv").show():($("#predefinedListOptionInputDiv input").val(""),$('#usersAddedInputOptionDiv table[id="addedNameTable"] tbody').empty(),$('#usersAddedInputOptionDiv table[id="addedOptionsTable"] tbody').empty(),$("#addNameBtn").removeAttr("disabled"),$("#predefinedListOptionInputDiv").hide())});$("#addNameBtn").click(function(){var n=$("#addNameInput").val();$('#usersAddedInputOptionDiv table[id="addedNameTable"] tbody').append("<tr><td name='PredefinedListName'><i>"+n+"<\/i><button type='button' class='btn btn-sm btn-outline-danger nameRemoveBtn' style='float:right;'>Remove<\/button><\/td><\/tr>");$("#addNameInput").val("");$("#addNameBtn").attr("disabled","disabled")});$("#usersAddedInputOptionDiv tbody").on("click","button.nameRemoveBtn",function(){$(this).closest("tr").remove();$("#addNameBtn").removeAttr("disabled")});$("#addToListBtn").click(function(){var n=$("#addToListInput").val();$('#usersAddedInputOptionDiv table[id="addedOptionsTable"] tbody').append("<tr><td><i>"+n+"<\/i><button type='button' class='btn btn-sm btn-outline-danger optionsRemoveBtn' style='float:right;'>Remove<\/button><\/td><\/tr>");$("#addToListInput").val("")});$("#usersAddedInputOptionDiv tbody").on("click","button.optionsRemoveBtn",function(){$(this).closest("tr").remove()});$("#addNewProductAttrForm").submit(function(n){var t,i,r,u,f,e;n.preventDefault();t=new FormData;i=$('#addNewProductAttrForm input[id="nameInputValue"]').val();t.append("name",i);r=$('#addNewProductAttrForm select[id="attrGroupSelectValue"]').val();t.append("attributeGroupId",r);u=$("#addNewProductAttrForm textarea").val();t.append("description",u);f=$('#addNewProductAttrForm select[id="typeSelectValue"]').val();t.append("type",f);e=$('#usersAddedInputOptionDiv table[id="addedNameTable"] tbody i').text();t.append("predefinedListName",e);$('#usersAddedInputOptionDiv table[id="addedOptionsTable"] tbody tr i').each(function(){t.append("predefinedListOptionNames",$(this).text())});$.ajax({url:"/ProductAttribute/AddProductAttribute",type:"POST",data:t,dataType:"json",processData:!1,contentType:!1,success:function(n){console.log(n);window.location.href=n},error:function(n){console.log(n)}})})});var attrGroupHelper={getTheAttributeGroupTableData:function(){$.ajax({url:"/AttributeGroup/GetAttributeGroupsToJson",type:"GET",dataType:"json",success:function(n){if(n!==null){$.each(n,function(n,t){var i=["<tr data-attributegroupid='"+t.id+"'data-attributegroupname="+t.name+"><td><small><i>"+t.name+"<\/i><\/small><button class='btn btn-sm btn-outline-success addAttrGroupBtn' type='button' style='float:right;'>Add<\/button><\/td><\/tr>"];$("#attrGroupTableBody").append(i.join(""))});$("button.addAttrGroupBtn").click(function(){var i=$(this).closest("tr").data("attributegroupid"),n=$(this).closest("tr").data("attributegroupname"),r=$(this).closest("tr"),t;r.hide();$("#addedAttrGroupsTableId").show();t=["<tr name='AttributeGroupId' data-attributegroupid='"+i+"'data-attributegroupname="+n+"><td><small><i>"+n+"<\/i><\/small><button class='btn btn-sm btn-outline-danger removeAttrGroupBtn' type='button' title='Take away attribute group.' style='float:right;'>Remove<\/button><\/td><\/tr>"];$("#addedAttrGroupsTableId tbody").append(t.join(""))});$("#addedAttrGroupsTableId tbody").on("click","button.removeAttrGroupBtn",function(){var n=$(this).closest("tr").data("attributegroupid");$($(this).closest("tr")).hide();$("#attrGroupTableBody tr").each(function(){var t=$(this).data("attributegroupid");n===t&&$("#attrGroupTableBody tr").show()})})}else console.log("In the success function but there is no data to present"),$("#attrGroupTableBody").append("<tr><td><small><i>No attribute groups added yet. Please create an attribute group.<\/i><\/small><\/td><\/tr>")},error:function(n){console.log(n.responseText)}})}};$(document).ready(function(){$("#editAttrGroupModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),r=t.data("id"),u=t.data("name"),f=t.data("textarea"),i=$(this);i.find(".modal-body input").val(u);i.find(".modal-body textarea").val(f);$("#editAttrGroupForm").submit(function(n){var t,i;n.preventDefault();t=new FormData;t.append("id",r);$("#editAttrGroupForm input").each(function(){t.append($(this).attr("name"),$(this).val())});i=$("#editAttrGroupForm textarea").val();t.append("description",i);$.ajax({url:"/AttributeGroup/EditAttributeGroup",type:"POST",data:t,dataType:"json",processData:!1,contentType:!1,success:function(n){console.log(n);window.location.href=n},error:function(n){console.log(n)}})})});$("#deleteAttrGroupModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),i=t.data("id"),u=t.data("name"),r=$(this);r.find(".modal-content h5").text("Are you sure you want to delete attribute group "+u+"?");r.find(".modal-body input").val(i);console.log(i)})});$(document).ready(function(){$("#editModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),i=t.data("id"),r=t.data("name"),u=$(this);u.find(".modal-body input").val(r);$("#editCatForm").submit(function(n){n.preventDefault();var t=new FormData;t.append("id",i);$("#editCatForm input").each(function(){t.append($(this).attr("name"),$(this).val())});$.ajax({url:"/Category/EditCategory",type:"POST",data:t,dataType:"json",processData:!1,contentType:!1,success:function(n){console.log(n);window.location.href=n},error:function(n){console.log(n)}})});console.log(i)});$("#deleteModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),i=t.data("id"),u=t.data("name"),r=$(this);r.find(".modal-content h5").text("Are you sure you want to delete category "+u+"?");r.find(".modal-body input").val(i);console.log(i)})});$(document).ready(function(){var n=[];$.ajax({url:"/ProductAttribute/GetPredefinedListOptionsToJson",type:"GET",dataType:"json",success:function(t){n=t},error:function(n){console.log(n.responseText)}});$("#addPredefinedListNameBtn").click(function(){var n=$("#addPredefinedListNameInput").val();$("#predefinedListNameTableBody").append("<tr><td name='PredefinedListName'><small><i>"+n+"<\/i><\/small><button class='btn btn-sm btn-outline-danger modalPredefinedListNameRemoveBtn' type='button' style='float:right;'>Remove<\/button><\/td><\/tr>");$("#addPredefinedListNameInput").val("");$("#addPredefinedListNameBtn").attr("disabled","disabled")});$("#predefinedListNameTableBody").on("click","button.modalPredefinedListNameRemoveBtn",function(){$(this).closest("tr").remove();$("#addPredefinedListNameBtn").removeAttr("disabled")});$("#addToPredefinedListOptionsBtn").click(function(){var n=$("#addToPredefinedListOptionsInput").val();$("#predefinedListOptionNamesTableBody").append("<tr><td name='PredefinedListOptionNames'><small><i>"+n+"<\/i><\/small><button class='btn btn-sm btn-outline-danger modalPredefinedListOptionsRemoveBtn' type='button' style='float:right;'>Remove<\/button><\/td><\/tr>");$("#addToPredefinedListOptionsInput").val("")});$("#predefinedListOptionNamesTableBody").on("click","button.modalPredefinedListOptionsRemoveBtn",function(){$(this).closest("tr").remove()});$("#editProductAttrModal").on("show.bs.modal",function(t){var f;$("#editModalPredefinedListDiv").hide();var i=$(t.relatedTarget),c=i.data("id"),l=i.data("name"),r=i.data("type"),a=i.data("textarea"),s=i.data("attrgroupselect"),v=i.data("attrgroupvalue"),o=i.data("predefinedlistname"),h=i.data("predefinedlistid"),e=$(this),u;r==="int"&&(u="Number");r==="string"&&(u="Text");r==="bool"&&(u="Yes/No or True/False");r==="byte"&&(u="Bytes");r==="predefined list"&&(u="Predefined List");e.find(".modal-body select").html("");e.find('.modal-body input[id="nameInputField"]').val(l);e.find(".modal-body textarea").val(a);e.find('.modal-body select[name="AttributeGroupId"]').append('"<option value="'+v+'"selected>'+s+'<\/option>"');e.find('.modal-body select[name="Type"]').append('"<option value="'+r+'"selected>'+u+'<\/option>"');f=$('.modal-body select[name="Type"] option[selected]').val();f==="int"&&($('.modal-body select[name="Type"]').append('"<option value="string">Text<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="bool">Yes/No or True/False<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="byte">Bytes<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="predefined list">Predefined List<\/option>"'));f==="string"&&($('.modal-body select[name="Type"]').append('"<option value="int">Number<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="bool">Yes/No or True/False<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="byte">Bytes<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="predefined list">Predefined List<\/option>"'));f==="bool"&&($('.modal-body select[name="Type"]').append('"<option value="int">Number<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="string">Text<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="byte">Bytes<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="predefined list">Predefined List<\/option>"'));f==="byte"&&($('.modal-body select[name="Type"]').append('"<option value="int">Number<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="string">Text<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="bool">Yes/No or True/False<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="predefined list">Predefined List<\/option>"'));f==="predefined list"&&($('.modal-body select[name="Type"]').append('"<option value="int">Number<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="string">Text<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="bool">Yes/No or True/False<\/option>"'),$('.modal-body select[name="Type"]').append('"<option value="byte">Bytes<\/option>"'),$("#editModalPredefinedListDiv").show(),$("#predefinedListNameTableBody").empty(),$("#predefinedListOptionNamesTableBody").empty(),$("#addPredefinedListNameBtn").removeAttr("disabled"),$("#predefinedListNameTableBody").append("<tr><td name='PredefinedListName'><small><i>"+o+"<\/i><\/small><button class='btn btn-sm btn-outline-danger modalPredefinedListNameRemoveBtn' type='button' style='float:right;'>Remove<\/button><\/td><\/tr>"),$.each(n,function(n,t){t.predefinedListId===h?$("#predefinedListOptionNamesTableBody").append("<tr><td name='PredefinedListOptionNames'><small><i>"+t.name+"<\/i><\/small><button class='btn btn-sm btn-outline-danger modalPredefinedListOptionsRemoveBtn' type='button' style='float:right;'>Remove<\/button><\/td><\/tr>"):console.log("no predefined list connected!")}));$('.modal-body select[name="Type"]').change(function(){$("#predefinedListNameTableBody").empty();$("#predefinedListOptionNamesTableBody").empty();$("#addPredefinedListNameBtn").removeAttr("disabled");var t="";$('.modal-body select[name="Type"]  option:selected').each(function(){t+=$(this).val()});t==="predefined list"?($("#editModalPredefinedListDiv").show(),o&&$("#predefinedListNameTableBody").append("<tr><td name='PredefinedListName'><small><i>"+o+"<\/i><\/small><button class='btn btn-sm btn-outline-danger modalPredefinedListNameRemoveBtn' type='button' style='float:right;'>Remove<\/button><\/td><\/tr>"),$.each(n,function(n,t){t.predefinedListId===h?$("#predefinedListOptionNamesTableBody").append("<tr><td name='PredefinedListOptionNames'><small><i>"+t.name+"<\/i><\/small><button class='btn btn-sm btn-outline-danger modalPredefinedListOptionsRemoveBtn' type='button' style='float:right;'>Remove<\/button><\/td><\/tr>"):console.log("no predefined list connected!")})):$("#editModalPredefinedListDiv").hide()});$.ajax({url:"/AttributeGroup/GetAttributeGroupsToJson",type:"GET",dataType:"json",success:function(n){var r,t,u,i;if(n!==null)for(r=n.length,t=0;t<r;t++)u=n[t].id,i=n[t].name,i!==s&&$('#editProductAttrForm select[name="AttributeGroupId"]').append("<option value='"+u+"'>"+i+"<\/option>");else console.log("In the success function but data is NULL")},error:function(n){console.log(n.responseText)}});$("#editProductAttrForm").submit(function(n){var t,i,r,u,f,e;n.preventDefault();t=new FormData;t.append("id",c);i=$("#editProductAttrForm input").val();t.append("name",i);r=$('#editProductAttrForm select[name="Type"]').val();t.append("type",r);u=$("#editProductAttrForm textarea").val();t.append("description",u);f=$('#editProductAttrForm select[name="AttributeGroupId"]').val();t.append("attributegroupid",f);e=$("#predefinedListNameTableBody i").text();t.append("predefinedListName",e);$("#predefinedListOptionNamesTableBody tr i").each(function(){t.append("predefinedListOptionNames",$(this).text())});$.ajax({url:"/ProductAttribute/AddProductAttribute",type:"POST",data:t,dataType:"json",processData:!1,contentType:!1,success:function(n){console.log(n);window.location.href=n},error:function(n){console.log(n)}})})});$("#deleteProductAttrModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),i=t.data("id"),u=t.data("name"),r=$(this);r.find(".modal-content h5").text("Are you sure you want to delete product attribute "+u+"?");r.find(".modal-body input").val(i);console.log(i)})});$(document).ready(function(){$("#editProductModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),r=t.data("id"),u=t.data("name"),f=t.data("price"),e=t.data("textarea"),i=$(this);i.find("#inputId").val(r);i.find("#inputName").val(u);i.find("#inputPrice").val(f);i.find(".modal-body textarea").val(e)});$("#deleteProductModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),r=t.data("id"),u=t.data("name"),i=$(this);i.find(".modal-content h5").text("Are you sure you want to delete "+u+"?");i.find(".modal-body input").val(r)})});$(document).ready(function(){function i(i){$.ajax({url:"/AttributeGroup/GetAttributeGroupsToJson",type:"GET",dataType:"json",success:function(r){n=r;r!==null?$.each(n,function(n,r){var u=!1,f;$.each(t,function(n,t){t.subcategoryId===i&&r.id===t.attributeGroupId&&(u=!0)});u||(f=["<tr data-subcategoryattributegroupattributegroupid='"+r.id+"'data-subcategoryattributegroupsubcategoryid='"+i+"'data-subcategoryattributegroupattributegroupname='"+r.name+"'><td><small><i>"+r.name+"<\/i><\/small><button type='button' class='btn btn-sm btn-outline-success editModalAddAttrGroupBtn' style='float:right;'>Add<\/button><\/td><\/tr>"],$("#allAttrGroupsTableBody").append(f.join("")))}):console.log("In the success function but there is no data to present")},error:function(n){console.log(n.responseText)}})}function r(n){$.ajax({url:"/Subcategory/GetSubcategoryAttributeGroupsToJson",type:"GET",dataType:"json",success:function(r){t=r;r!==null?$.each(r,function(t,i){if(n===i.subcategoryId){var r=["<tr data-subcategoryattributegroupattributegroupid='"+i.attributeGroupId+"'data-subcategoryattributegroupsubcategoryid='"+i.subcategoryId+"'data-subcategoryattributegroupattributegroupname='"+i.attributeGroup.name+"'><td><small><i>"+i.attributeGroup.name+"<\/i><\/small><button type='button' class='close editModalRemoveAttrGroupBtn' style='float:right;'><span aria-hidden='true'>&times;<\/span><\/button><\/td><\/tr>"];$("#subcategoriesAttrGroupsTableBody").append(r.join(""))}}):console.log("In the success function but there is no data to present");i(n)},error:function(n){console.log(n.responseText)}})}var n=[],t=[];$("#allAttrGroupsTableBody").on("click","button.editModalAddAttrGroupBtn",function(){var i=$(this).closest("tr").data("subcategoryattributegroupattributegroupid"),n=$(this).closest("tr").data("subcategoryattributegroupattributegroupname"),r=$(this).closest("tr").data("subcategoryattributegroupsubcategoryid"),t;$($(this).closest("tr")).remove();t=["<tr data-subcategoryattributegroupattributegroupid='"+i+"'data-subcategoryattributegroupsubcategoryid='"+r+"'data-subcategoryattributegroupattributegroupname='"+n+"'><td><small><i>"+n+"<\/i><\/small><button type='button' class='close editModalRemoveAttrGroupBtn' style='float:right;'><span aria-hidden='true'>&times;<\/span><\/button><\/td><\/tr>"];$("#subcategoriesAttrGroupsTableBody").append(t.join(""))});$("#subcategoriesAttrGroupsTableBody").on("click","button.editModalRemoveAttrGroupBtn",function(){var t=$(this).closest("tr").data("subcategoryattributegroupattributegroupid"),n=$(this).closest("tr").data("subcategoryattributegroupattributegroupname"),i=$(this).closest("tr").data("subcategoryattributegroupsubcategoryid");$($(this).closest("tr")).remove();$("#allAttrGroupsTableBody").append("<tr data-subcategoryattributegroupattributegroupid='"+t+"'data-subcategoryattributegroupsubcategoryid='"+i+"'data-subcategoryattributegroupattributegroupname='"+n+"'><td><small><i>"+n+"<\/i><\/small><button type='button' class='btn btn-sm btn-outline-success editModalAddAttrGroupBtn' style='float:right;'>Add<\/button><\/td><\/tr>")});$("#editSubcategoryModal").on("show.bs.modal",function(n){$("#subcategoriesAttrGroupsTableBody").empty();$("#allAttrGroupsTableBody").empty();var t=$(n.relatedTarget),i=t.data("id"),u=t.data("name"),f=$(this);f.find(".modal-body input").val(u);$("#subcategoriesAttrGroupsTableBody").empty();$.ajax({url:"/Category/GetCategoriesToJson",type:"GET",dataType:"json",success:function(n){var i,t,r,u;if(n!==null)for(i=n.length,$("#editSubcatForm select.categorySelect").empty(),$("#editSubcatForm select.categorySelect").append("<option value='' selected>Please select...<\/option>"),t=0;t<i;t++)r=n[t].id,u=n[t].name,$("#editSubcatForm select.categorySelect").append("<option value='"+r+"'>"+u+"<\/option>");else console.log("In the success function but data is NULL")},error:function(n){console.log(n.responseText)}});r(i);$("#editSubcatForm").submit(function(n){var t,r,u;n.preventDefault();t=new FormData;t.append("id",i);r=$("#editSubcatForm input").val();t.append("name",r);u=$("#editSubcatForm select.categorySelect").val();t.append("categoryid",u);$('#editSubcatForm tbody[id="subcategoriesAttrGroupsTableBody"] tr').each(function(){t.append("attributegroupid",$(this).data("subcategoryattributegroupattributegroupid"))});$.ajax({url:"/Subcategory/AddSubcategory",type:"POST",data:t,dataType:"json",processData:!1,contentType:!1,success:function(n){console.log(n);window.location.href=n},error:function(n){console.log(n)}})})});$("#deleteModal").on("show.bs.modal",function(n){var t=$(n.relatedTarget),i=t.data("id"),u=t.data("name"),r=$(this);r.find(".modal-content h5").text("Are you sure you want to delete "+u+"?");r.find(".modal-body input").val(i);console.log(i)})});$(document).ready(function(){$("#addNewBtn").on("click",function(){$("#viewComponents").show()});$("#cancelBtn").on("click",function(){$("#addNewCatForm").find("input").val("");$("#addNewSubcatForm").find("input").val("");$("#addNewSubcatForm").find("select").val("");$("#addNewAttrGroupForm").find("input").val("");$("#addNewAttrGroupForm").find("select").val("");$("#addNewAttrGroupForm").find("textarea").val("");$("#addNewProductAttrForm").find("input").val("");$("#addNewProductAttrForm").find("select").val("");$("#addNewProductAttrForm").find("textarea").val("");$("#addNewProductForm").find("input").val("");$("#addNewProductForm").find("select").val("");$("#addNewProductForm").find("textarea").val("");$("#addedAttrGroupsTableId").hide();$("#addedAttrGroupsTableId").find("tbody").empty();$("#attrGroupTableBody").empty();attrGroupHelper.getTheAttributeGroupTableData();$("#viewComponents").hide();$("#predefinedListOptionInputDiv").hide();$('#usersAddedInputOptionDiv table[id="addedNameTable"] tbody').empty();$('#usersAddedInputOptionDiv table[id="addedOptionsTable"] tbody').empty();$("#addNameBtn").removeAttr("disabled")});$("#changePasswordBtn").on("click",function(){$("#changePasswordDiv").show()});$("#closeChangePasswordBtn").on("click",function(){$("#changePasswordForm input").each(function(){$(this).val("")});$("#changePasswordDiv").hide()})});